---
title: "Atlasの基礎知識"
---

## DBマイグレーションとは何か？

DBマイグレーションとは、データベースのスキーマ（テーブル構造やインデックスなど）を安全に管理し、変更を適用するための仕組みです。アプリケーションの成長や機能追加に伴い、スキーマの変更は避けられませんが、手動での管理は複雑でミスを誘発するリスクが高まります。

マイグレーションツールを利用することで、変更履歴の管理や環境間の差分適用、スキーマのバージョニングを効率的かつ安全に行えるようになります。

## Atlasが解決する課題と仕組みの解説

従来のマイグレーションツールには、次のような課題が存在しました。

- 差分の手動管理によるヒューマンエラーの発生
- 複数人のチームでのスキーマ管理が煩雑になる
- マイグレーションファイルの作成・管理が煩雑

Atlasは以下の仕組みを通じて、これらの課題を解決します。

- **差分の自動検出**  
  Atlasは現在のDBスキーマと目標スキーマの差分を自動的に検出し、必要な変更をマイグレーションファイルとして生成します。

- **スキーマ定義の柔軟性**  
  SQLだけでなく、HCL（HashiCorp Configuration Language）を利用してスキーマをコードで管理できるため、より分かりやすく柔軟な定義が可能になります。

- **CI/CDパイプラインとの統合**  
  GitHub ActionsなどCI/CDパイプラインにAtlasを簡単に組み込み、スキーマ変更を自動化できます。

これらにより、Atlasはスキーマ管理の効率化と安全性向上を実現します。

## 他のマイグレーションツールとの比較（Flyway、golang-migrate、sqldef）

Atlasの特徴を理解するために、代表的なマイグレーションツールと比較します。

| 特徴                          | Atlas        | Flyway       | golang-migrate | sqldef        |
|------------------------------|--------------|--------------|----------------|---------------|
| 差分検出・自動生成            | ○            | △（一部手動） | ✕              | ○             |
| スキーマ定義方法              | SQL, HCL     | SQL          | SQL            | SQL           |
| 対応DB                        | 多数（MySQL, PostgreSQL, SQLiteなど） | 多数（MySQL, PostgreSQL, Oracle等） | 多数（MySQL, PostgreSQL等） | MySQL, PostgreSQL |
| CI/CDとの連携                 | ◎（容易）    | ○（可能）    | ○（可能）      | ◎（容易）     |
| コマンド体系                  | シンプル・直感的 | 標準的       | 標準的         | シンプル      |

Atlasは特に差分の自動検出・生成機能が優れており、スキーマ変更を安全に管理したいチームに最適です。また、スキーマ定義にHCLを採用することで可読性や管理性も向上します。

次の章からは、Atlasの具体的な導入と実践方法を解説していきます。
